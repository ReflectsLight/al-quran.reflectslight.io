#!/usr/bin/env ruby

##
# Contains rules that are related to RandomRedirect.html.erb
# in one way or another

compile "/html/redirect-to-surah-slug.html.erb" do
  filter(:erb)
  1.upto(114) do |surahno|
    locales.each { write(File.join("/", _1, surahno.to_s, "index.html")) }
  end
end

compile "/js/pages/RandomRedirect.ts" do
  filter :webpack
  write "/js/pages/RandomRedirect.js"
end

compile "/js/pages/redirect-to-surah-slug.ts" do
  filter :webpack
  write "/js/pages/redirect-to-surah-slug.js"
end
