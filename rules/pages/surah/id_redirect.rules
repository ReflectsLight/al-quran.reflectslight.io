#!/usr/bin/env ruby
# frozen_string_literal: true

##
# Rules for a redirect from a surah id to a surah name
# (eg /en/1/ -> /en/al-fatihah/)

1.upto(114) do |id|
  locales.each do |locale|
    compile "/html/pages/surah/id_redirect.html.erb", rep: "redirect_id/#{locale}/#{id}" do
      filter(:erb, locals: {locale:, surah_name: surah_id_to_name[id]})
      write("/#{locale}/#{id}/index.html")
    end
  end
end

compile "/js/pages/surah/id_redirect.ts" do
  filter(:webpack)
  write("/js/pages/surah/id_redirect.js")
end
