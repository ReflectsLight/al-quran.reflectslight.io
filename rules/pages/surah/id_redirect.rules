#!/usr/bin/env ruby
# frozen_string_literal: true

##
# Rules for a redirect from a surah id to a surah name
# (eg /en/1/ -> /en/al-fatihah/)

1.upto(114) do |id|
  locales.each do |locale|
    compile "/html/pages/surah/id_redirect.html.erb", rep: "redirect_id/#{locale}/#{id}" do
      surah_name = surah_id_to_name[id]
      redirect_url = "https://al-quran.reflectslight.io/#{locale}/#{surah_name}/"
      title = i18n[locale].TheNobleQuran
      filter(:erb, {locals: {title:, redirect_url:, locale:}})
      write("/#{locale}/#{id}/index.html")
    end
  end
end
